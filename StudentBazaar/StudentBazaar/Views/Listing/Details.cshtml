@model StudentBazaar.Web.Models.Listing

@{
    ViewData["Title"] = "Listing Details";
}

<h2 class="mt-3">Listing Details</h2>

<div class="card mb-3">
    <div class="card-body">
        <h4>@Model.Product?.Name</h4>
        <p class="text-muted">@Model.Description</p>

        <p>
            <strong>Price:</strong>
            @Model.Price.ToString("F2")
        </p>

        @if (Model.Discount.HasValue)
        {
            <p>
                <strong>Discount:</strong>
                @Model.Discount.Value.ToString("F2")
            </p>
        }

        <p>
            <strong>Status:</strong> @Model.Status
        </p>
        <p>
            <strong>Condition:</strong> @Model.Condition
        </p>
        <p>
            <strong>Seller:</strong> @Model.Seller?.FullName
        </p>
        <p>
            <strong>Posting Date:</strong> @Model.PostingDate.ToShortDateString()
        </p>

        <a asp-action="Index" class="btn btn-secondary">Back to List</a>

        @if (User.Identity?.IsAuthenticated ?? false &&
                (User.IsInRole("Admin") ||
                (User.Identity.Name == Model.Seller?.UserName)))
        {
            <a asp-action="Edit"
               asp-route-id="@Model.Id"
               class="btn btn-warning">
                Edit
            </a>
        }
    </div>
</div>
